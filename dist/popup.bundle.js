document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("process-text");e?e.addEventListener("click",(async()=>{console.log("ğŸŸ¢ Button clicked! Extracting text & getting AI response...");try{const e=await chrome.tabs.query({active:!0,currentWindow:!0});if(0===e.length)return void console.error("âŒ No active tab found.");let t=e[0];await chrome.scripting.executeScript({target:{tabId:t.id},files:["dist/contentScript.bundle.js"]}),console.log("âœ… Content script injected successfully."),chrome.tabs.sendMessage(t.id,{type:"RUN_LOGIC"},(e=>{chrome.runtime.lastError?console.error("âŒ Error sending message:",chrome.runtime.lastError.message):e&&"done"===e.status?console.log("ğŸ¤– AI Response:",e.aiResponse):console.error("âŒ Unexpected response:",e)}))}catch(e){console.error("âŒ Error:",e)}})):console.error("âŒ Button not found! Check popup.html.")}));
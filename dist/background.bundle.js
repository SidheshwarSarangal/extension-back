(()=>{"use strict";chrome.runtime.onMessage.addListener(((e,s,r)=>"GET_GROQ_RESPONSE"===e.type?(console.log("ğŸš§ AI processing is currently disabled. Returning dummy response."),r({status:"success",response:"AI processing is disabled for now."}),!0):"START_FULL_PAGE_CAPTURE"===e.type?(console.log("ğŸ“¸ Received request to start full-page capture..."),chrome.tabs.sendMessage(e.tabId,{type:"START_SCROLL_AND_CAPTURE"},r),!0):"CAPTURE_SCREENSHOT"===e.type?(console.log("ğŸ“¸ Capturing screenshot..."),chrome.tabs.captureVisibleTab(null,{format:"png"},(e=>{chrome.runtime.lastError||!e?(console.error("âŒ Screenshot capture failed:",chrome.runtime.lastError),r({status:"failed"})):(console.log("âœ… Screenshot captured successfully!"),r({status:"success",image:e}))})),!0):void 0))})();
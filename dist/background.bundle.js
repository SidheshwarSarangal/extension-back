(()=>{"use strict";chrome.runtime.onMessage.addListener(((e,s,o)=>"GET_GROQ_RESPONSE"===e.type?(console.log("🚧 AI processing is currently disabled. Returning dummy response."),o({status:"success",response:"AI processing is disabled for now."}),!0):"START_FULL_PAGE_CAPTURE"===e.type?(console.log("📸 Received request to start full-page capture..."),chrome.tabs.sendMessage(e.tabId,{type:"START_SCROLL_AND_CAPTURE"},o),!0):"CAPTURE_SCREENSHOT"===e.type?(console.log("📸 Capturing screenshot..."),chrome.tabs.captureVisibleTab(null,{format:"png"},(async e=>{chrome.runtime.lastError||!e?(console.error("❌ Screenshot capture failed:",chrome.runtime.lastError),o({status:"failed"})):(console.log("✅ Screenshot captured successfully!"),console.log("🖼️ Base64 Image Data URL:",e),o({status:"success"}))})),!0):void("VISUAL_CONTENT_EXTRACTED"===e.type&&(console.log("🖼️ Received visual content from content script:",e.images),e.images.forEach(((e,s)=>{"img"===e.type?console.log(`📷 IMG [${s}]:`,e.src):"canvas"===e.type&&console.log(`🖌️ CANVAS [${s}]:`,e.dataURL)})),o({status:"received"})))))})();